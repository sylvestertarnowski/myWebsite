(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(21)},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),s=a.n(o),i=a(8),l=a.n(i),c=a(9),d=a(2),u=a(3),h=a(5),m=a(4),p=a(6),b=a(7),v=a(1);var f=function(e){return r.a.createElement("li",null,e.data.word)},w=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={correct:null,randomWord:{},prevWord:{word:"",translation:""},tempWord:"",list:e.data},a.handleSubmit=a.handleSubmit.bind(Object(v.a)(Object(v.a)(a))),a.handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.pickRandomIndex=a.pickRandomIndex.bind(Object(v.a)(Object(v.a)(a))),a.pickWord=a.pickWord.bind(Object(v.a)(Object(v.a)(a))),a.removeWord=a.removeWord.bind(Object(v.a)(Object(v.a)(a))),a.clearTempWord=a.clearTempWord.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.pickWord()}},{key:"componentWillReceiveProps",value:function(e){this.setState({list:e.data})}},{key:"handleSubmit",value:function(e){this.state.tempWord===this.state.randomWord.translation?(this.setState({correct:!0}),this.removeWord(),this.clearTempWord()):(this.setState({correct:!1}),this.pickWord(),this.clearTempWord()),e.preventDefault()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(b.a)({},a,n))}},{key:"clearTempWord",value:function(){this.setState({tempWord:""})}},{key:"pickRandomIndex",value:function(){return Math.floor(Math.random()*this.state.list.length)}},{key:"pickWord",value:function(){var e=this,t=this.pickRandomIndex();this.setState(function(a){return{randomWord:e.state.list[t],prevWord:a.randomWord}})}},{key:"removeWord",value:function(){var e=this;this.setState(function(e){var t=e.randomWord;return{list:e.list.filter(function(e){return e.word!==t.word})}},function(){return e.pickWord()})}},{key:"render",value:function(){var e=this.state.list;return r.a.createElement("div",{className:"guess-words-body"},r.a.createElement("ul",null,e.map(function(e){return r.a.createElement(f,{key:e._id,data:e})})),r.a.createElement("br",null),r.a.createElement("div",{className:"guess-words-title"},void 0!==this.state.randomWord?r.a.createElement("h1",null,"Guess this word: ",r.a.createElement("span",{style:{textDecoration:"italic"}},this.state.randomWord.word)):r.a.createElement("h1",null,"Play again?")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"tempWord",placeholder:"guess",value:this.state.tempWord,onChange:this.handleChange}),r.a.createElement("button",null,"Guess"))),r.a.createElement("h1",null,this.state.correct?r.a.createElement("span",{style:{color:"green"}},"Correct!"):r.a.createElement("span",{style:{color:"red"}},"Wrong! ",this.state.prevWord.word," - ",this.state.prevWord.translation)))}}]),t}(n.Component),g=[{_id:"1",word:"marchewka",translation:"carrot"},{_id:"2",word:"kubek",translation:"cup"},{_id:"3",word:"kawa",translation:"coffee"},{_id:"4",word:"ciasto",translation:"cake"},{_id:"5",word:"talerz",translation:"plate"},{_id:"6",word:"pomara\u0144cza",translation:"orange"},{_id:"7",word:"smartfon",translation:"smartphone"},{_id:"8",word:"woda",translation:"water"},{_id:"9",word:"\u015bciana",translation:"wall"},{_id:"10",word:"sk\xf3ra",translation:"skin"},{_id:"11",word:"ciastko",translation:"biscuit"}],j=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={name:"",language:"",list:e.data},a.handleSave=a.handleSave.bind(Object(v.a)(Object(v.a)(a))),a.handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({list:e.data})}},{key:"handleSave",value:function(e){e.preventDefault(),console.log(this.state),fetch("/words/add",{method:"post",body:JSON.stringify(this.state)}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.error(e)})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(b.a)({},a,n))}},{key:"render",value:function(){return r.a.createElement("div",{className:"post-words-items"},r.a.createElement("div",{className:"add-words-form-title"},r.a.createElement("h2",null,"Save words to Database")),r.a.createElement("div",{className:"post-words-form"},r.a.createElement("input",{type:"text",value:this.state.name,name:"name",onChange:this.handleChange,placeholder:"Unique List Name"}),r.a.createElement("input",{type:"text",value:this.state.language,name:"language",onChange:this.handleChange,placeholder:"Language"}),r.a.createElement("button",{type:"submit",onClick:this.handleSave},"Save Words")))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).updateStateWithData=function(){a.callWordsDownload().then(function(e){return a.setState(function(t){return{word:"",translation:"",list:e.list.concat(t.list)}},function(){return console.log(a.state.list)})}).catch(function(e){return console.log(e)})},a.callWordsDownload=Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/words/default",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)})),a.state={word:"",translation:"",list:g},a.handleSubmit=a.handleSubmit.bind(Object(v.a)(Object(v.a)(a))),a.handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){this.setState(function(e){var t={word:e.word,translation:e.translation},a=e.list;return a.unshift(t),{word:"",translation:"",list:a}}),console.log(this.state.list),e.preventDefault()}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(b.a)({},a,n))}},{key:"render",value:function(){return r.a.createElement("div",{className:"words-item"},r.a.createElement("div",{className:"add-words-form"},r.a.createElement("div",{className:"add-words-form-title"},r.a.createElement("h2",null,"Add word to list")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{autoFocus:!0,type:"text",name:"word",value:this.state.word,placeholder:"Word",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"translation",value:this.state.translation,placeholder:"translation",onChange:this.handleChange}),r.a.createElement("button",null,"Add")),r.a.createElement("button",{onClick:this.updateStateWithData},"Download List from Server")),r.a.createElement(j,{data:this.state.list}),r.a.createElement(w,{data:this.state.list}))}}]),t}(n.Component);a(20);var O=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Words Learning App"),r.a.createElement("a",{href:"/"}," Go Back to main page"))},E=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).callBackendAPI=Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/express_backend");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)})),e.state={data:null},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.callBackendAPI().then(function(t){return e.setState({data:t.express})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-container"},r.a.createElement(O,null),r.a.createElement(k,null),console.log(this.state.data))}}]),t}(n.Component);s.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.d35703e4.chunk.js.map